<header
  class="bg-white dark:bg-gray-800 shadow-sm sticky top-0 z-20 transition-colors duration-200"
>
  <div class="container mx-auto px-4 py-3 flex items-center justify-between">
    <!-- Logo and Mobile Menu Button -->
    <div class="flex items-center">
      <button
        (click)="onToggleSidebar()"
        class="p-2 mr-3 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-6 w-6 text-gray-500 dark:text-gray-400"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M4 6h16M4 12h16M4 18h16"
          />
        </svg>
      </button>

      <div (click)="navigateToHome()" class="flex items-center cursor-pointer">
        <div class="flex items-center">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-8 w-8 text-primary-500"
            viewBox="0 0 24 24"
            fill="currentColor"
          >
            <path
              d="M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77z"
            />
          </svg>
          <h1
            class="text-xl font-bold ml-2 text-gray-800 dark:text-white hidden sm:block"
          >
            Post Generator
          </h1>
        </div>
      </div>
    </div>

    <!-- Right Navigation -->
    <div class="flex items-center">
      <!-- User Profile Button -->
      <div *ngIf="(currentUser$ | async) as user; else loginBtn" class="relative">
        <button 
          (click)="navigateToProfile()" 
          class="flex items-center focus:outline-none">
          <img 
            [src]="user.profilePicture || 'https://via.placeholder.com/40'" 
            alt="Profile"
            class="w-8 h-8 rounded-full object-cover border border-gray-200 dark:border-gray-700"
          >
          <span class="ml-2 text-gray-700 dark:text-gray-300 font-medium hidden md:block">
            {{ user.name.split(' ')[0] }}
          </span>
        </button>
      </div>
    
      <!-- If not logged in: show login button -->
      <ng-template #loginBtn>
        <button
        class="mr-4 btn-primary text-sm"

          (click)="navigateToLogin()"
        >
          Login
        </button>
      </ng-template>    
    </div>
  </div>
</header>
